
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.7">
    
    
      
        <title>Mind Controlled Home Automation - Hetul Patel</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mind-controlled-home-automation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hetul Patel" class="md-header__button md-logo" aria-label="Hetul Patel" data-md-component="logo">
      
  <img src="../../assets/icons8-code-64.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hetul Patel
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mind Controlled Home Automation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hetul Patel" class="md-nav__button md-logo" aria-label="Hetul Patel" data-md-component="logo">
      
  <img src="../../assets/icons8-code-64.png" alt="logo">

    </a>
    Hetul Patel
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Hello! üëã
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../experience/" class="md-nav__link">
        Experience
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projects" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../clothes_retrieval/" class="md-nav__link">
        Clothes Retrieval
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deep_face_recognition/" class="md-nav__link">
        Deep Face Recognition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alpr/" class="md-nav__link">
        Automatic License Plate Recognition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../auto_adaptive/" class="md-nav__link">
        Auto Adaptive Image Classifier
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Mind Controlled Home Automation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Mind Controlled Home Automation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-headset" class="md-nav__link">
    About Headset
  </a>
  
    <nav class="md-nav" aria-label="About Headset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-functionalities-of-headset" class="md-nav__link">
    Basic functionalities of headset:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working" class="md-nav__link">
    Working
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-app-for-analysis" class="md-nav__link">
    Android App for analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controlling-light-by-mind-circuit-diagram" class="md-nav__link">
    Controlling Light by Mind : Circuit Diagram
  </a>
  
    <nav class="md-nav" aria-label="Controlling Light by Mind : Circuit Diagram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-components-of-the-circuit-are" class="md-nav__link">
    Main components of the circuit are:
  </a>
  
    <nav class="md-nav" aria-label="Main components of the circuit are:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hc-05-module-has-3-pins-in-use" class="md-nav__link">
    HC-05 Module has 3 pins in use:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relay-module-has-5-pins-in-use" class="md-nav__link">
    Relay module has 5 pins in use:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-bluetooth-module" class="md-nav__link">
    Setting up Bluetooth module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#at-commands-for-setting-up-module-are-listed-below" class="md-nav__link">
    AT commands for setting up module are listed below:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algorithm" class="md-nav__link">
    Algorithm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-a-packet" class="md-nav__link">
    Parsing a Packet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-data-rows-in-a-packet-payload" class="md-nav__link">
    Parsing Data Rows in a Packet Payload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hyperspectral_image_classification/" class="md-nav__link">
        Hyper Spectral Image Classification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture_notes_saving_app/" class="md-nav__link">
        Fellow (Lecture notes app)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3d_password/" class="md-nav__link">
        3D Password
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../spry/" class="md-nav__link">
        Hospital Management System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../on_device_classification/" class="md-nav__link">
        On-Device Object Classification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mobile_app_for_visually_impaired/" class="md-nav__link">
        Mobile app for visually impaired
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../talks/" class="md-nav__link">
        Talks/Seminars/Workshops
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../education/" class="md-nav__link">
        Education
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-headset" class="md-nav__link">
    About Headset
  </a>
  
    <nav class="md-nav" aria-label="About Headset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-functionalities-of-headset" class="md-nav__link">
    Basic functionalities of headset:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working" class="md-nav__link">
    Working
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-app-for-analysis" class="md-nav__link">
    Android App for analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controlling-light-by-mind-circuit-diagram" class="md-nav__link">
    Controlling Light by Mind : Circuit Diagram
  </a>
  
    <nav class="md-nav" aria-label="Controlling Light by Mind : Circuit Diagram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-components-of-the-circuit-are" class="md-nav__link">
    Main components of the circuit are:
  </a>
  
    <nav class="md-nav" aria-label="Main components of the circuit are:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hc-05-module-has-3-pins-in-use" class="md-nav__link">
    HC-05 Module has 3 pins in use:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relay-module-has-5-pins-in-use" class="md-nav__link">
    Relay module has 5 pins in use:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-bluetooth-module" class="md-nav__link">
    Setting up Bluetooth module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#at-commands-for-setting-up-module-are-listed-below" class="md-nav__link">
    AT commands for setting up module are listed below:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#algorithm" class="md-nav__link">
    Algorithm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-a-packet" class="md-nav__link">
    Parsing a Packet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-data-rows-in-a-packet-payload" class="md-nav__link">
    Parsing Data Rows in a Packet Payload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="mind-controlled-home-automation">Mind Controlled Home Automation<a class="headerlink" href="#mind-controlled-home-automation" title="Permanent link">&para;</a></h1>
<p><img alt="png" src="../../assets/projects/sambhav/logo.jpg" /></p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Mind Controlled Home Automation System with self-learning capability ‚Äì an approach to
enter the era of virtual reality, an era where everything is possible. That‚Äôs why we named
it as SAMBHAV. The main aim of our project is to control home appliances with human
brain acting as an interface. This means that the signals generated by our brain will now
control electrical appliances ‚Äì termed as Home Automation. For achieving the same, we
have used MindWave headset that calculates our concentration(attention) and
meditation(relaxation) and even detects the blink. The combination of these human
activities will result into switching ON/OFF devices. </p>
<h2 id="about-headset">About Headset<a class="headerlink" href="#about-headset" title="Permanent link">&para;</a></h2>
<p>A closer look at the <a href="https://store.neurosky.com/pages/mindwave">headset</a>:</p>
<p><img alt="png" src="../../assets/projects/sambhav/headset.jpg" /></p>
<h3 id="basic-functionalities-of-headset">Basic functionalities of headset:<a class="headerlink" href="#basic-functionalities-of-headset" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Power Switch ‚Äì To power ON/OFF the headset. If the switch is held past the ON
position for 3 seconds, the headset will enter the Bluetooth Pairing Mode and if held
past the ON position for 6 seconds, the headset‚Äôs pairing memory will be cleared.</p>
</li>
<li>
<p>Ear Clip ‚Äì Acts as the reference point and is clipped at the earlobe (lower part of the
ear).</p>
</li>
<li>
<p>Sensor Arm ‚Äì Core of the headset. It contains the sensor that should be in direct
contact with the forehead. Besides sensor, it also includes the on-board chip that
processes all of the data.</p>
</li>
</ul>
<h2 id="working">Working<a class="headerlink" href="#working" title="Permanent link">&para;</a></h2>
<p>The biosensor placed inside the headset measures the frequencies of the electrical signals
emitted by the nerve cells. Although neurons are not so good conductor of electricity, yet
they generate electrical signals based on the flow of ions across their plasma membranes.
Basically, neurons generate a negative potential, that is measured by recording the
voltage between the inside and outside of nerve cells. The sensor chip does this work with
ear clip acting as the reference point and the electrical signals measured are commonly
referred to as brainwaves. The sensor chip then amplifies the brainwave signals and
removes the unnecessary noise and muscle movement. These analog signals are then
converted into digital signals by the on-board chip and is being processed to the device.</p>
<p>The table below shows some of the frequencies that tend to be generated by different
types of activity in the brain:</p>
<table>
<thead>
<tr>
<th>Brainwave Type</th>
<th>Frequency range</th>
<th>Mental states and conditions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Delta</td>
<td>0.1Hz to 3Hz</td>
<td>Deep, dreamless sleep, non-REM sleep, unconscious</td>
</tr>
<tr>
<td>Theta</td>
<td>4Hz to 7Hz</td>
<td>Intuitive, creative, recall, fantasy, imaginary, dream</td>
</tr>
<tr>
<td>Alpha</td>
<td>8Hz to 12Hz</td>
<td>Relaxed (but not drowsy) tranquil, conscious</td>
</tr>
<tr>
<td>Low Beta</td>
<td>12Hz to 15Hz</td>
<td>Formerly SMR, relaxed yet focused, integrated</td>
</tr>
<tr>
<td>Midrange Beta</td>
<td>12Hz to 15Hz</td>
<td>Thinking, aware of self &amp; surroundings</td>
</tr>
<tr>
<td>High Beta</td>
<td>21Hz to 30Hz</td>
<td>Alertness, agitation</td>
</tr>
</tbody>
</table>
<h2 id="android-app-for-analysis">Android App for analysis<a class="headerlink" href="#android-app-for-analysis" title="Permanent link">&para;</a></h2>
<p>We created an android app for analyzing various signals generated by our brain on
pursuing different activities. App is used to display different EEG band power values such as Delta, Theta, Alpha and Gamma etc.</p>
<p><img src="../../assets/projects/sambhav/app.png" alt="app" width="256"/></p>
<p>At the top of the screen, Graph is displayed based on this values and a sudden change in amplitude is detected on blinking. The Attention and Meditation values are also displayed. This app is connected to mindwave headset via Bluetooth. When user go beyond the meditation value of 85, Flash light of the mobile phone automatically gets turned on.</p>
<h2 id="controlling-light-by-mind-circuit-diagram">Controlling Light by Mind : Circuit Diagram<a class="headerlink" href="#controlling-light-by-mind-circuit-diagram" title="Permanent link">&para;</a></h2>
<p><img src="../../assets/projects/sambhav/circuit.png" alt="app" width="300"/></p>
<h3 id="main-components-of-the-circuit-are">Main components of the circuit are:<a class="headerlink" href="#main-components-of-the-circuit-are" title="Permanent link">&para;</a></h3>
<ol>
<li>Arduino Uno R3</li>
<li>Bluetooth Module HC ‚Äì 05</li>
<li>4 Channel Relay Module</li>
<li>Bulb</li>
<li>Power Supply</li>
</ol>
<h4 id="hc-05-module-has-3-pins-in-use">HC-05 Module has 3 pins in use:<a class="headerlink" href="#hc-05-module-has-3-pins-in-use" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>VCC</strong> ‚Äì Connected to Digital Pin 5 of Arduino (5 Volt Supply)</li>
<li><strong>GND</strong> ‚Äì Connected to Ground Pin of Arduino</li>
<li><strong>Tx</strong> ‚Äì Transmitter Pin is connected to RX pin of Arduino</li>
</ol>
<h4 id="relay-module-has-5-pins-in-use">Relay module has 5 pins in use:<a class="headerlink" href="#relay-module-has-5-pins-in-use" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>VCC</strong> ‚Äì Connected to VCC of Arduino (5 Volt Supply)</li>
<li><strong>GND</strong>- Connected to Ground Pin of Arduino</li>
<li><strong>IN2</strong> ‚Äì As an input pin for relay 2 since we have connected bulb to relay 2. This pin is connected to Digital Pin no. 2 of Arduino.</li>
<li><strong>C</strong> ‚Äì It is common pin of relay connected to Hot line of 250 V Ac supply.</li>
<li><strong>NO</strong>- Normally open pin is connected to Positive terminal of bulb.</li>
</ol>
<p>Negative terminal of Bulb is connected to Neutral line of power supply.</p>
<p>Mind wave Head set is wirelessly connected to Arduino via Bluetooth connection.</p>
<h2 id="setting-up-bluetooth-module">Setting up Bluetooth module<a class="headerlink" href="#setting-up-bluetooth-module" title="Permanent link">&para;</a></h2>
<p>HC-05 by default can be paired to any device. But for our project we specifically need to
pair the module with mind wave headset. For that We first turned on our module in
COMMAND MODE by holding a push button provided on top of HC-05. </p>
<p>To send AT commands to HC-05, we coded the Arduino as shown below and connected
the module to it.</p>
<p><img src="../../assets/projects/sambhav/arduino.png" alt="app" width="300"/></p>
<h2 id="at-commands-for-setting-up-module-are-listed-below">AT commands for setting up module are listed below:<a class="headerlink" href="#at-commands-for-setting-up-module-are-listed-below" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>AT+NAME=SAMBHAV: Sets name of Bluetooth device to ‚ÄúSambhav‚Äù</p>
</li>
<li>
<p>AT+UART=57600,0,0: Sets Baud rate to 57600 as mindwave sends data at this
rate.</p>
</li>
<li>
<p>AT+PSWD=0000: ‚Äú0000‚Äù is default password for pairing up with mindwave head
set</p>
</li>
<li>
<p>AT+BIND=MMM,YY,NNNNN: We mentioned the Unique Identifier Number of Our
Headset here which we get from device properties of headset.</p>
</li>
</ol>
<h2 id="algorithm">Algorithm<a class="headerlink" href="#algorithm" title="Permanent link">&para;</a></h2>
<p>Once the connection is established, mind wave sends the data in 32-byte packet. We need to retrieve the data from packet. Based on the attention and meditation value of mind we can send signal to relay for controlling light.</p>
<p>Packet is described here.</p>
<table>
<thead>
<tr>
<th>Byte</th>
<th>Value</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0xAA</td>
<td>[SYNC] Synchronisation bit</td>
</tr>
<tr>
<td>1</td>
<td>0xAA</td>
<td>[SYNC] Synchronisation bit</td>
</tr>
<tr>
<td>2</td>
<td>0x08</td>
<td>(payload length) of 8 bytes</td>
</tr>
<tr>
<td>3</td>
<td>0x02</td>
<td>POOR_SIGNAL Quality</td>
</tr>
<tr>
<td>4</td>
<td>0x20</td>
<td>Some poor signal detected (32/255)</td>
</tr>
<tr>
<td>5</td>
<td>0x01</td>
<td>BATTERY Level</td>
</tr>
<tr>
<td>6</td>
<td>0x7E</td>
<td>Almost full 3V of battery (126/127)</td>
</tr>
<tr>
<td>7</td>
<td>0x04</td>
<td>ATTENTION</td>
</tr>
<tr>
<td>8</td>
<td>0x12</td>
<td>Attention level of 18%</td>
</tr>
<tr>
<td>9</td>
<td>0x05</td>
<td>MEDITATION</td>
</tr>
<tr>
<td>10</td>
<td>0x60</td>
<td>Meditation level of 96%</td>
</tr>
<tr>
<td>11</td>
<td>0xE3</td>
<td>[CHKSUM] (1's comp inverse of 8-bit Payload sum of 0x1C)</td>
</tr>
</tbody>
</table>
<h2 id="parsing-a-packet">Parsing a Packet<a class="headerlink" href="#parsing-a-packet" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Keep reading bytes from the stream until a [SYNC] byte (0xAA) is encountered.</p>
</li>
<li>
<p>Read the next byte and ensure it is also a [SYNC] byte</p>
<ul>
<li>If not a [SYNC] byte, return to step 1.</li>
<li>Otherwise, continue to step 3.</li>
</ul>
</li>
<li>
<p>Read the next byte from the stream as the [PLENGTH].</p>
<ul>
<li>If [PLENGTH] is 170 ([SYNC]), then repeat step 3.</li>
<li>If [PLENGTH] is greater than 170, then return to step 1 (PLENGTH TOO LARGE).</li>
<li>Otherwise, continue to step 4.</li>
</ul>
</li>
<li>
<p>Read the next [PLENGTH] bytes of the [PAYLOAD‚Ä¶] from the stream, saving them into a storage area (such as an unsigned char payload [256] array). Sum up each byte as it is read by incrementing a checksum accumulator (checksum += byte).</p>
</li>
<li>
<p>Take the lowest 8 bits of the checksum accumulator and invert them. Here is the C code:</p>
</li>
</ol>
<pre><code class="language-c">checksum &amp;= 0xFF;
checksum = ~checksum &amp; 0xFF; 
</code></pre>
<ol>
<li>
<p>Read the next byte from the stream as the [CHKSUM] byte.</p>
<ul>
<li>If the [CHKSUM] does not match your calculated chksum (CHKSUM FAILED).</li>
<li>Otherwise, you may now parse the contents of the Payload into DataRows to obtain the Data Values, as described below.</li>
<li>In either case, return to step 1. </li>
</ul>
</li>
</ol>
<h2 id="parsing-data-rows-in-a-packet-payload">Parsing Data Rows in a Packet Payload<a class="headerlink" href="#parsing-data-rows-in-a-packet-payload" title="Permanent link">&para;</a></h2>
<p>Repeat the following steps for parsing a DataRow until all bytes in the payload[] array ([PLENGTH] bytes) have been considered and parsed:</p>
<ol>
<li>Parse and count the number of [EXCODE] (0x55) bytes that may be at the beginning of the current DataRow.</li>
<li>Parse the [CODE] byte for the current DataRow.</li>
<li>If [CODE] &gt;= 0x80, parse the next byte as the [VLENGTH] byte for the current DataRow.</li>
<li>Parse and handle the [VALUE‚Ä¶] byte(s) of the current DataRow, based on the DataRow's [EXCODE] level, [CODE], and [VLENGTH].</li>
<li>If not all bytes have been parsed from the payload[] array, return to step 1. to continue parsing the next DataRow.</li>
<li>Get Attention Value from [EXCODE] 0x04</li>
<li>Get Meditation Value from [EXCODE] 0x05</li>
<li>If Attention is greater than threshold, then turn on light else go to step 9.</li>
<li>If Meditation is greater than threshold, then turn off light else go to step 1.</li>
</ol>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="http://developer.neurosky.com/docs/doku.php?id=thinkgear_communications_protocol">Documentation and algorithm for mindwave headset</a></li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../auto_adaptive/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Auto Adaptive Image Classifier" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Auto Adaptive Image Classifier
            </div>
          </div>
        </a>
      
      
        
        <a href="../hyperspectral_image_classification/" class="md-footer__link md-footer__link--next" aria-label="Next: Hyper Spectral Image Classification" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Hyper Spectral Image Classification
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
    
  </body>
</html>